// ===================================================================
// AABBCollider.h
// 軸並行境界ボックスコライダークラス
// ===================================================================
#pragma once
#include "Collider.h"

// 前方宣言
class SphereCollider;

// ===================================================================
// AABBCollider クラス
// 軸並行境界ボックス（Axis-Aligned Bounding Box）の衝突判定を提供
// ===================================================================
class AABBCollider : public Collider
{
private:
    // ===================================================================
    // メンバ変数
    // ===================================================================
    Vector3 m_Size;  // ボックスのサイズ（幅、高さ、奥行き）

public:
    // ===================================================================
    // コンストラクタ
    // ===================================================================
    AABBCollider(const Vector3& size = Vector3(1.0f, 1.0f, 1.0f));

    // ===================================================================
    // デストラクタ
    // ===================================================================
    ~AABBCollider() override = default;

    // ===================================================================
    // 衝突判定（オーバーライド）
    // ===================================================================
    bool CheckCollision(Collider* other, CollisionInfo& info) override;

    // ===================================================================
    // プロパティ
    // ===================================================================
    void SetSize(const Vector3& size) { m_Size = size; }
    const Vector3& GetSize() const { return m_Size; }

    // 最小点・最大点を取得（ワールド座標）
    Vector3 GetMin() const;
    Vector3 GetMax() const;

    // ===================================================================
    // デバッグ描画
    // ===================================================================
#ifdef DEBUG
    void DebugDraw() override;
#endif

private:
    // ===================================================================
    // 各コライダータイプとの衝突判定
    // ===================================================================
    bool CheckAABB(AABBCollider* other, CollisionInfo& info);
    bool CheckSphere(SphereCollider* other, CollisionInfo& info);
};