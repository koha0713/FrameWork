// ===================================================================
// SphereCollider.h
// 球形コライダークラス
// ===================================================================
#pragma once
#include "Collider.h"

// 前方宣言
class AABBCollider;

// ===================================================================
// SphereCollider クラス
// 球形の衝突判定を提供
// ===================================================================
class SphereCollider : public Collider
{
private:
    // ===================================================================
    // メンバ変数
    // ===================================================================
    float m_Radius;  // 球の半径

public:
    // ===================================================================
    // コンストラクタ
    // ===================================================================
    SphereCollider(float radius = 1.0f);

    // ===================================================================
    // デストラクタ
    // ===================================================================
    ~SphereCollider() override = default;

    // ===================================================================
    // 衝突判定（オーバーライド）
    // ===================================================================
    bool CheckCollision(Collider* other, CollisionInfo& info) override;

    // ===================================================================
    // プロパティ
    // ===================================================================
    void SetRadius(float radius) { m_Radius = radius; }
    float GetRadius() const { return m_Radius; }

    // ===================================================================
    // デバッグ描画
    // ===================================================================
#ifdef DEBUG
    void DebugDraw() override;
#endif

private:
    // ===================================================================
    // 各コライダータイプとの衝突判定
    // ===================================================================
    bool CheckSphere(SphereCollider* other, CollisionInfo& info);
    bool CheckAABB(AABBCollider* other, CollisionInfo& info);
};